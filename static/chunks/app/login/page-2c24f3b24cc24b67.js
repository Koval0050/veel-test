(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{9980:(e,r,t)=>{Promise.resolve().then(t.bind(t,7741))},2851:(e,r,t)=>{"use strict";t.d(r,{iD:()=>n,im:()=>l,kz:()=>o});var a=t(2651);let s="".concat("http://localhost:5001","/api/v1/auth"),n=async e=>{try{return(await a.A.post("".concat(s,"/login"),e)).data}catch(e){console.error("Login failed:",e)}},o=async e=>{try{return(await a.A.post("".concat(s,"/register"),e)).data}catch(e){console.error("Registration failed:",e)}},l=async e=>{try{return(await a.A.get("".concat(s,"/me"),{headers:{Authorization:"Bearer ".concat(e)}})).data}catch(e){console.error("Fetch user failed:",e)}}},7741:(e,r,t)=>{"use strict";t.d(r,{LoginForm:()=>v});var a=t(5155),s=t(2115),n=t(6046),o=t(8173),l=t.n(o),i=t(2679),c=t(9606),d=t(5983),u=t(3170),m=t(5568),h=t(2362),x=t(8537),g=t(2851),b=t(3415);let p=b.z.object({username:b.z.string().min(3,"Username must be at least 3 characters long"),name:b.z.string().min(1,"Name is required"),password:b.z.string().min(6,"Password must be at least 6 characters long")}),v=()=>{var e,r,t;let{register:o,handleSubmit:b,formState:{errors:v}}=(0,c.mN)({resolver:(0,i.u)(p)}),[f,w]=(0,s.useState)(null),[y,j]=(0,s.useState)(!1),N=(0,n.useRouter)(),S=async e=>{w(null),j(!0);let{accessToken:r}=await (0,g.iD)(e);r?(document.cookie="token=".concat(r,"; path=/;  SameSite=Lax"),j(!1),N.push("/")):(w("error"),j(!1))};return(0,a.jsxs)("div",{className:"w-115 p-8 bg-white rounded-lg shadow-xl",children:[(0,a.jsx)(h.o,{className:"mb-6",variant:x.E.H3,children:"Login to Your Account"}),(0,a.jsxs)("form",{onSubmit:b(S),className:"space-y-6",children:[(0,a.jsx)(d.Z,{name:"username",placeholder:"Username",register:o,error:null===(e=v.username)||void 0===e?void 0:e.message}),(0,a.jsx)(d.Z,{name:"name",placeholder:"Name",register:o,error:null===(r=v.name)||void 0===r?void 0:r.message}),(0,a.jsx)(d.Z,{name:"password",type:"password",placeholder:"Password",register:o,error:null===(t=v.password)||void 0===t?void 0:t.message}),f&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:f}),(0,a.jsx)(u.$,{variant:m.Ck.PRIMARY,isLoading:y,type:"submit",children:"Login"})]}),(0,a.jsxs)("div",{className:"mt-4 text-center",children:[(0,a.jsx)(h.o,{variant:x.E.SPAN,children:"Do not have an account?"}),(0,a.jsx)(l(),{href:"/register",className:"text-blue-500 hover:underline ml-1",children:"Sign Up"})]})]})}},5568:(e,r,t)=>{"use strict";t.d(r,{Ck:()=>a,bQ:()=>s,ls:()=>n});var a=function(e){return e.PRIMARY="primary",e.SECONDARY="secondary",e}({});let s="flex items-center justify-center w-full py-3 rounded-md focus:outline-none focus:ring-2",n={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"}},3170:(e,r,t)=>{"use strict";t.d(r,{$:()=>c});var a=t(5155),s=t(3463);t(2115);var n=function(e){return e.XS="extraSmall",e.S="small",e.M="medium",e.L="large",e.XL="extraLarge",e}({});let o={extraSmall:"w-4 h-4 border-2",small:"w-6 h-6 border-4",medium:"w-9 h-9 border-6",large:"w-12 h-12 border-8",extraLarge:"w-14 h-14 border-8"},l=e=>{let{size:r=n.XS,className:t}=e;return(0,a.jsx)("div",{className:(0,s.A)("mx-auto border-2 border-white border-t-yellow-500 rounded-full animate-spin",o[r],t)})};var i=t(5568);let c=e=>{let{children:r,variant:t=i.Ck.PRIMARY,type:o="button",isLoading:c=!1}=e;return(0,a.jsx)("button",{type:o,className:(0,s.A)(i.bQ,i.ls[t],{"opacity-50 cursor-not-allowed":c}),disabled:c,children:c?(0,a.jsx)(l,{size:n.S}):r})}},5983:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});var a=t(5155);let s=e=>{let{register:r,name:t,type:s="text",placeholder:n,error:o}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{...r(t),type:s,placeholder:n||t,className:"w-full p-3 text-black border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),o&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:o})]})}},8537:(e,r,t)=>{"use strict";t.d(r,{E:()=>a,l:()=>s});var a=function(e){return e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.P="p",e.SPAN="span",e}({});let s={h1:"text-5xl font-bold",h2:"text-4xl font-extrabold",h3:"text-center text-3xl font-bold text-gray-800 ",h4:"text-2xl font-semiBold",h5:"text-xl font-medium",h6:"text-lg font-medium",p:"text-xl",span:"text-sm text-gray-600"}},2362:(e,r,t)=>{"use strict";t.d(r,{o:()=>o});var a=t(5155),s=t(3463),n=t(8537);let o=e=>{let{variant:r=n.E.P,className:t,children:o}=e;return(0,a.jsx)(r,{className:(0,s.A)(n.l[r],t),children:o})}}},e=>{var r=r=>e(e.s=r);e.O(0,[264,732,441,517,358],()=>r(9980)),_N_E=e.O()}]);