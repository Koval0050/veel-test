(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{4732:(e,r,t)=>{Promise.resolve().then(t.bind(t,2390))},2851:(e,r,t)=>{"use strict";t.d(r,{iD:()=>n,im:()=>i,kz:()=>l});var s=t(2651),a=t(2818);let o="".concat(a.env.API_PORT,"/api/v1/auth"),n=async e=>{try{return(await s.A.post("".concat(o,"/login"),e)).data}catch(e){throw console.error("Login failed:",e),Error("Login request failed")}},l=async e=>{try{return(await s.A.post("".concat(o,"/register"),e)).data}catch(e){throw console.error("Registration failed:",e),Error("Registration request failed")}},i=async e=>{try{return(await s.A.get("".concat(o,"/me"),{headers:{Authorization:"Bearer ".concat(e)}})).data}catch(e){throw console.error("Fetch user failed:",e),Error("Fetch user request failed")}}},2390:(e,r,t)=>{"use strict";t.d(r,{LoginForm:()=>g});var s=t(5155),a=t(2115),o=t(6046),n=t(8173),l=t.n(n),i=t(2679),c=t(9606),u=t(4712),d=t(2851),m=t(3415);let h=m.z.object({username:m.z.string().min(3,"Username must be at least 3 characters long"),name:m.z.string().min(1,"Name is required"),password:m.z.string().min(6,"Password must be at least 6 characters long")}),g=()=>{var e,r,t;let{register:n,handleSubmit:m,formState:{errors:g}}=(0,c.mN)({resolver:(0,i.u)(h)}),[x,p]=(0,a.useState)(null),b=(0,o.useRouter)(),f=async e=>{p(null);let{accessToken:r}=await (0,d.iD)(e);console.log(r),r?(document.cookie="token=".concat(r,"; path=/;  SameSite=Lax"),b.push("/")):p("error")};return(0,s.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-teal-500 flex justify-center items-center",children:(0,s.jsxs)("div",{className:"w-full max-w-md p-8 bg-white rounded-lg shadow-xl",children:[(0,s.jsx)("h2",{className:"text-3xl font-bold text-center text-gray-800 mb-6",children:"Login to Your Account"}),(0,s.jsxs)("form",{onSubmit:m(f),className:"space-y-6",children:[(0,s.jsx)(u.Z,{name:"username",placeholder:"Username",register:n,error:null===(e=g.username)||void 0===e?void 0:e.message}),(0,s.jsx)(u.Z,{name:"name",placeholder:"Name",register:n,error:null===(r=g.name)||void 0===r?void 0:r.message}),(0,s.jsx)(u.Z,{name:"password",type:"password",placeholder:"Password",register:n,error:null===(t=g.password)||void 0===t?void 0:t.message}),x&&(0,s.jsx)("p",{className:"text-sm text-red-500",children:x}),(0,s.jsx)("button",{type:"submit",className:"w-full py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Login"})]}),(0,s.jsxs)("div",{className:"text-center text-sm text-gray-600 mt-4",children:["Do not have an account?",(0,s.jsx)(l(),{href:"/register",className:"text-blue-500 hover:underline ml-1",children:"Sign Up"})]})]})})}},4712:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});var s=t(5155);let a=e=>{let{register:r,name:t,type:a="text",placeholder:o,error:n}=e;return(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{...r(t),type:a,placeholder:o,className:"w-full p-3 text-black  border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),n&&(0,s.jsx)("p",{className:"text-sm text-red-500",children:n})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[238,732,441,517,358],()=>r(4732)),_N_E=e.O()}]);