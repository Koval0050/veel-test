(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{8170:(e,r,s)=>{Promise.resolve().then(s.bind(s,1353))},2851:(e,r,s)=>{"use strict";s.d(r,{iD:()=>n,im:()=>l,kz:()=>i});var a=s(2651),t=s(2818);let o="".concat(t.env.NEXT_PUBLIC_API_PORT,"/api/v1/auth"),n=async e=>{try{return(await a.A.post("".concat(o,"/login"),e)).data}catch(e){throw console.error("Login failed:",e),Error("Login request failed")}},i=async e=>{try{return(await a.A.post("".concat(o,"/register"),e)).data}catch(e){throw console.error("Registration failed:",e),Error("Registration request failed")}},l=async e=>{try{return(await a.A.get("".concat(o,"/me"),{headers:{Authorization:"Bearer ".concat(e)}})).data}catch(e){throw console.error("Fetch user failed:",e),Error("Fetch user request failed")}}},1353:(e,r,s)=>{"use strict";s.d(r,{RegisterForm:()=>g});var a=s(5155),t=s(2115),o=s(6046),n=s(8173),i=s.n(n),l=s(9606),c=s(2679),d=s(4712),m=s(2851),u=s(3415);let h=u.z.object({username:u.z.string().min(3,"Username must be at least 3 characters long"),name:u.z.string().min(1,"Name is required"),password:u.z.string().min(6,"Password must be at least 6 characters long"),confirmPassword:u.z.string().min(6,"Password must be at least 6 characters long")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]}),g=()=>{var e,r,s,n;let{register:u,handleSubmit:g,formState:{errors:w}}=(0,l.mN)({resolver:(0,c.u)(h)}),[p,x]=(0,t.useState)(""),f=(0,o.useRouter)(),b=async e=>{x("");try{await (0,m.kz)({username:e.username,name:e.name,password:e.password}),f.push("/login")}catch(e){console.error(e),x("Registration failed, please try again.")}};return(0,a.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-teal-500 flex justify-center items-center",children:(0,a.jsxs)("div",{className:"w-full max-w-md p-8 bg-white rounded-lg shadow-xl",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold text-center text-gray-800 mb-6",children:"Create an Account"}),(0,a.jsxs)("form",{onSubmit:g(b),className:"space-y-6",children:[(0,a.jsx)(d.Z,{name:"username",placeholder:"Username",register:u,error:null===(e=w.username)||void 0===e?void 0:e.message}),(0,a.jsx)(d.Z,{name:"name",placeholder:"Full Name",register:u,error:null===(r=w.name)||void 0===r?void 0:r.message}),(0,a.jsx)(d.Z,{name:"password",type:"password",placeholder:"Password",register:u,error:null===(s=w.password)||void 0===s?void 0:s.message}),(0,a.jsx)(d.Z,{name:"confirmPassword",type:"password",placeholder:"Confirm Password",register:u,error:null===(n=w.confirmPassword)||void 0===n?void 0:n.message}),p&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:p}),(0,a.jsx)("button",{type:"submit",className:"w-full py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Register"})]}),(0,a.jsxs)("div",{className:"text-center text-sm text-gray-600 mt-4",children:["Already have an account?",(0,a.jsx)(i(),{href:"/login",className:"text-blue-500 hover:underline ml-1",children:"Login"})]})]})})}},4712:(e,r,s)=>{"use strict";s.d(r,{Z:()=>t});var a=s(5155);let t=e=>{let{register:r,name:s,type:t="text",placeholder:o,error:n}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{...r(s),type:t,placeholder:o||s,className:"w-full p-3 text-black border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),n&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:n})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[238,732,441,517,358],()=>r(8170)),_N_E=e.O()}]);